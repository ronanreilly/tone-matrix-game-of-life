// Ronan Reilly 2012package {	import demo.DemoToneMatrix;	import flash.events.Event;	import flash.events.KeyboardEvent	import flash.ui.Keyboard	import flash.desktop.NativeApplication	import flash.desktop.SystemIdleMode	import flash.system.Capabilities	//import ControlPanel;	import flash.display.MovieClip;	public class Main extends MovieClip {		private var _toneMatrix:DemoToneMatrix = new DemoToneMatrix();		public function Main() {			_toneMatrix.height = 450;			_toneMatrix.width = 450;			_toneMatrix.x=200;			_toneMatrix.y=25;			trace("Tone Matrix X position: " + _toneMatrix.x);			trace("Tone Matrix Y position: " + _toneMatrix.y);			addChild(_toneMatrix);			trace("Main is Running");			if (Capabilities.cpuArchitecture=="ARM") {				NativeApplication.nativeApplication.addEventListener(Event.ACTIVATE, handleActivate, false, 0, true);				NativeApplication.nativeApplication.addEventListener(Event.DEACTIVATE, handleDeactivate, false, 0, true);				NativeApplication.nativeApplication.addEventListener(KeyboardEvent.KEY_DOWN, handleKeys, false, 0, true);			}			//Define handlers:			function handleActivate(event:Event):void {				NativeApplication.nativeApplication.systemIdleMode=SystemIdleMode.KEEP_AWAKE;			}			function handleDeactivate(event:Event):void {				trace("exiting now");				NativeApplication.nativeApplication.exit();			}			function handleKeys(event:KeyboardEvent):void {				if (event.keyCode==Keyboard.BACK) {					NativeApplication.nativeApplication.exit();				}			}		}	}}